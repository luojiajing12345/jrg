<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<link rel="stylesheet" href="./css/style.css">
		<link rel="stylesheet" href="css/loading.css" />
		<title>方方的简历</title>
		<script src="//at.alicdn.com/t/font_648422_rd07rkmk5f561or.js"></script>
		<style>

		</style>
	</head>

	<body>
		<div id='firstWelcome' class="first_welcome active">
			<div class="loading"></div>
		</div>

		<div id='Top' class="top clearfix">
			<div id='topNavBar' class="topNavBar-inner clearfix">
				<a class="logo" href="#" alt="logo" style="float: left;">
					<span class="rs">RS</span><span class="card">card</span>
				</a>
				<nav style="float: right;">
					<ul class="clearfix">
						<li>
							<a href="#siteAbout">关于</a>
						</li>
						<li>
							<a href="#siteSkills">技能</a>
						</li>
						<li class="menuTigger">
							<a href="#siteWorks">作品</a>
							<ul class="submenu">
								<li>作品1</li>
								<li>作品2</li>
								<li>作品3</li>
							</ul>
						</li>
						<li class="menuTigger">
							<a href="#">博客</a>
							<ul class="submenu">
								<li>博客1</li>
								<li>博客2</li>
								<li>博客3</li>
							</ul>
						</li>
						<li>
							<a href="#">日历</a>
						</li>
						<li>
							<a href="#">联系方式</a>
						</li>
						<li>
							<a href="#">其他</a>
						</li>
					</ul>
				</nav>
			</div>
		</div>
		<div class="banner" style="background-image: url(./img/background.jpg)">
			<div class="mask"></div>
		</div>
		<main class="main">
			<div data-x id="siteAbout" class="UserCard clearfix">
				<div class="pictureAndText clearfix">
					<div class="picture">
						<img src="./img/rs-photo-v1.jpg" alt="头像" width="299px" height="347px">
					</div>
					<div class="text">
						<span class="welcome">Hello
                        <span class="triangle"></span>
						</span>
						<h1>方应杭</h1>
						<p>前端开发工程师</p>
						<hr>
						<dl>
							<dt>年龄</dt>
							<dd>18</dd>
							<dt>所在城市</dt>
							<dd>北京</dd>
							<dt>邮箱</dt>
							<dd>fangyinghang@foxmail.com</dd>
							<dt>手机</dt>
							<dd>13812345678</dd>
						</dl>
					</div>

				</div>

				<footer class="foot">
					<a href="#">
						<svg class="icon" aria-hidden="true">
							<use xlink:href="#icon-qq"></use>
						</svg>
					</a>
					<a href="#">
						<svg class="icon" aria-hidden="true">
							<use xlink:href="#icon-weibo"></use>
						</svg>
					</a>
					<a href="#">
						<svg class="icon" aria-hidden="true">
							<use xlink:href="#icon-weixin"></use>
						</svg>
					</a>
				</footer>
			</div>
			<p style="text-align: center">
				<a href="#" class="downloadaa" href="#" target="_blank" download>下载 PDF 简历</a>
			</p>

			<p class="self_introduction">方应杭<br> 技能：前端开发，Rails 开发，Node.js 开发
			</p>
			<section data-x id="siteSkills" class="skill">
				<h2 class="">技能</h2>
				<ol class="clearfix">
					<li>
						<h3>
                        HTML 5 & CSS 3
                    </h3>
						<div class="progress_bar">
							<div class="progress" style="width: 70%"></div>
						</div>
					</li>
					<li>
						<h3>
                        JavaScript
                    </h3>
						<div class="progress_bar">
							<div class="progress" style="width: 80%"></div>
						</div>
					</li>
					<li>
						<h3>
                        jQuery
                    </h3>
						<div class="progress_bar">
							<div class="progress" style="width: 60%"></div>
						</div>
					</li>
					<li>
						<h3>
                        Vue.js
                    </h3>
						<div class="progress_bar">
							<div class="progress" style="width: 50%"></div>
						</div>
					</li>
					<li>
						<h3>
                        React.js
                    </h3>
						<div class="progress_bar">
							<div class="progress" style="width: 40%"></div>
						</div>
					</li>
					<li>
						<h3>
                        Node.js
                    </h3>
						<div class="progress_bar">
							<div class="progress" style="width: 35%"></div>
						</div>
					</li>
				</ol>
			</section>
			<div data-x id="siteWorks" class="portfolio">
				<h2 class>作品集</h2>
				<nav>
					<ol class="clearfix">
						<li id="all">所有</li>
						<li id="frame">框架</li>
						<li id="protogenesis">原生JS&CSS</li>
					</ol>
					<div id="bart" class="bar state1">
						<div class="bar_inner"></div>
					</div>
				</nav>
				<script>
					all.onclick = function() {
						bart.className = 'bar state1'
					}
					frame.onclick = function() {
						bart.className = 'bar state2'
					}
					protogenesis.onclick = function() {
						bart.className = 'bar state3'
					}
				</script>
				<div class="works" style="height: 600px;margin-bottom: 200px">
					<div class="big" style="top: 0;left: 0;">
						<img src="./img/a.jpg" alt="作品1">
					</div>
					<div class="small" style="top: 0;left: 648px;">
						<img src="./img/b.jpg" alt="作品2">
					</div>
					<div class="small" style="top: 319px;left: 648px;">
						<img src="./img/c.jpg" alt="作品3">
					</div>
				</div>
			</div>
		</main>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/17.2.0/Tween.min.js"></script>
		<script type="text/javascript">
			setTimeout(function() {
				firstWelcome.classList.remove('active')
			}, 1000)
			
			let specialTags = document.querySelectorAll('[data-x]')
			for(let i = 0; i < specialTags.length; i++){
				specialTags[i].classList.add('offset')
				console.log(specialTags)
			}
			
			setTimeout(function(){
				yyy()
			},1100)

			window.onscroll = function(a) {
				if(window.scrollY > 0) {
					Top.classList.add('sticky')

				} else {
					Top.classList.remove('sticky')
				}
				yyy()

			}
			function yyy(){
								//console.log(window.scrollY)
				let specialTags = document.querySelectorAll('[data-x]')
				let minIndex = 0
				for(let i = 0; i < specialTags.length; i++){
					if(Math.abs(specialTags[i].offsetTop-window.scrollY)<Math.abs(specialTags[minIndex].offsetTop-window.scrollY)){
						minIndex = i
					}
				}
				specialTags[minIndex].classList.remove('offset')
				
				let id = specialTags[minIndex].id
				let aTag = document.querySelector('a[href="#'+id+'"]')
				li = aTag.parentNode
				let brothersAndMe = li.parentNode.children
				for (let i=0;i<brothersAndMe.length;i++) {
					brothersAndMe[i].classList.remove('highlight')
				}
				li.classList.add('highlight')
			}

			let liTags = document.querySelectorAll('nav>ul>li')
			for(let i = 0; i < liTags.length; i++) {
				liTags[i].onmouseenter = function(x) {
					x.currentTarget.classList.add('active')
				}
				liTags[i].onmouseleave = function(x) {
					x.currentTarget.classList.remove('active')
				}
			}
			let aTags = document.querySelectorAll('nav>ul>li>a')

			function animate(time) {
				requestAnimationFrame(animate);
				TWEEN.update(time);
			}
			requestAnimationFrame(animate);
			for(let i = 0; i < aTags.length; i++) {
				aTags[i].onclick = function(x) {
					x.preventDefault()
					let a = x.currentTarget
					let href = a.getAttribute('href')
					let element = document.querySelector(href)
					let top = element.offsetTop

					let currentTop = window.scrollY //当前高度
					let targeTop = top - 60 //要去的高度
					let s = targeTop - currentTop

					var coords = {
						y: currentTop
					}
					var t = Math.abs((s / 100) * 200)
					if(t > 500) {
						t = 500
					}
					var tween = new TWEEN.Tween(coords)
						.to({
							y: targeTop
						}, t)
						.easing(TWEEN.Easing.Quadratic.InOut)
						.onUpdate(function() {
							window.scrollTo(0, coords.y)
						})
						.start();
				}
			}
			
		</script>
	</body>

</html>